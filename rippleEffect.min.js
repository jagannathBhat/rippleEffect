/*
Plugin for ripple effect.

Creates a ripple animation on applied HTML elements on click.

This project is licensed under the terms of the GNU GPLv3 license.
A copy of the lisence will be found in the root directory of the project as "LICENSE.txt"
*/
var dimension=0,rippler=null,ripplerCircle=null,start=null;function addEvents(e){e.onmousedown=ripple}function animStep(e){start||(start=e);var t=e-start;ripplerCircle.setAttribute("r",t/2),t<2*dimension?window.requestAnimationFrame(animStep):(setProps("0px","0px","0px","0px",-1,0,0,0),start=null)}function init(){rippler=document.createElementNS("http://www.w3.org/2000/svg","svg"),ripplerCircle=document.createElementNS("http://www.w3.org/2000/svg","circle"),rippler.setAttribute("id","rippler"),rippler.style.height="0px",rippler.style.position="absolute",rippler.style.width="0px",rippler.style.zIndex="-1",ripplerCircle.setAttribute("fill","rgba(0, 0, 0, 0.3)"),rippler.appendChild(ripplerCircle),document.body.appendChild(rippler),rippler=document.querySelector("#rippler"),ripplerCircle=rippler.children[0]}function ripple(e){var t={height:e.target.offsetHeight,left:e.target.offsetLeft,top:e.target.offsetTop,width:e.target.offsetWidth,zIndex:e.target.style.zIndex};dimension=1.5*(t.height>t.width?t.height:t.width),setProps(t.height+"px",t.left+"px",t.top+"px",t.width+"px",t.zIndex,e.pageX-t.left,e.pageY-t.top,0),window.requestAnimationFrame(animStep)}function setProps(e,t,r,p,l,n,o,s){var d=["height","left","top","width","zIndex"];for(i=0;i<5;i++)rippler.style[d[i]]=arguments[i];ripplerCircle.setAttribute("cx",n),ripplerCircle.setAttribute("cy",o),ripplerCircle.setAttribute("r",s)}window.onload=function(){init(),document.querySelectorAll(".jbRippleEffect").forEach(addEvents)};
